{
    "openapi":"3.0.1",
    "info":{
       "title":"OpenAPI definition",
       "version":"v0"
    },
    "servers":[
       {
          "url":"http://localhost:8080",
          "description":"Generated server url"
       }
    ],
    "paths":{
       "/persons/{personId}/photos":{
          "get":{
             "tags":[
                "person-controller-changed"
             ],
             "operationId":"getAllPersonPhotos",
             "parameters":[
                {
                   "name":"personId",
                   "in":"path",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "responses":{
                "200":{
                   "description":"OK",
                   "content":{
                      "*/*":{
                         "schema":{
                            "$ref":"#/components/schemas/PersonPhotosGetResponse"
                         }
                      }
                   }
                }
             },
             "security":[
                {
                   "bearer-key":[
                      
                   ]
                }
             ]
          },
          "put":{
             "tags":[
                "person-controller"
             ],
             "operationId":"setPersonPhotos",
             "parameters":[
                {
                   "name":"personId",
                   "in":"path",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "requestBody":{
                "content":{
                   "application/json":{
                      "schema":{
                         "$ref":"#/components/schemas/PersonPhotosUpsertRequest"
                      }
                   }
                },
                "required":true
             },
             "responses":{
                "200":{
                   "description":"OK",
                   "content":{
                      "*/*":{
                         "schema":{
                            "$ref":"#/components/schemas/PersonPhotosGetResponse"
                         }
                      }
                   }
                }
             },
             "security":[
                {
                   "bearer-key":[
                      
                   ]
                }
             ]
          }
       },
       "/token":{
          "post":{
             "tags":[
                "token-controller"
             ],
             "operationId":"obtainToken",
             "requestBody":{
                "content":{
                   "application/json":{
                      "schema":{
                         "$ref":"#/components/schemas/TokenRequest"
                      }
                   }
                },
                "required":true
             },
             "responses":{
                "200":{
                   "description":"OK",
                   "content":{
                      "*/*":{
                         "schema":{
                            "$ref":"#/components/schemas/TokenResponse"
                         }
                      }
                   }
                }
             }
          }
       },
       "/photos":{
          "get":{
             "tags":[
                "photo-controller"
             ],
             "operationId":"getAllPhotos",
             "responses":{
                "200":{
                   "description":"OK",
                   "content":{
                      "*/*":{
                         "schema":{
                            "uniqueItems":true,
                            "type":"array",
                            "items":{
                               "type":"string",
                               "format":"uuid"
                            }
                         }
                      }
                   }
                }
             }
          },
          "post":{
             "tags":[
                "photo-controller"
             ],
             "operationId":"handleImageUpload",
             "requestBody":{
                "content":{
                   "application/json":{
                      "schema":{
                         "required":[
                            "image"
                         ],
                         "type":"object",
                         "properties":{
                            "image":{
                               "type":"string",
                               "format":"binary"
                            }
                         }
                      }
                   }
                }
             },
             "responses":{
                "200":{
                   "description":"OK",
                   "content":{
                      "*/*":{
                         "schema":{
                            "type":"string"
                         }
                      }
                   }
                }
             }
          }
       },
       "/persons":{
          "get":{
             "tags":[
                "person-controller"
             ],
             "operationId":"getAllPersons",
             "parameters":[
                {
                   "name":"currPage",
                   "in":"query",
                   "required":false,
                   "schema":{
                      "type":"integer",
                      "format":"int32",
                      "default":0
                   }
                }
             ],
             "responses":{
                "200":{
                   "description":"OK",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/PersonApiPagePersonResponse"
                         }
                      }
                   }
                }
             },
             "security":[
                {
                   "bearer-key":[
                      
                   ]
                }
             ]
          },
          "post":{
             "tags":[
                "person-controller"
             ],
             "operationId":"createPerson",
             "requestBody":{
                "content":{
                   "application/json":{
                      "schema":{
                         "$ref":"#/components/schemas/PersonCreateRequest"
                      }
                   }
                },
                "required":true
             },
             "responses":{
                "200":{
                   "description":"Person Created",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/PersonResponse"
                         }
                      }
                   }
                },
                "400":{
                   "description":"Invalid Person Creation Data",
                   "content":{
                      "application/json":{
                         "schema":{
                            "$ref":"#/components/schemas/GenericExeptionBody"
                         }
                      }
                   }
                }
             },
             "security":[
                {
                   "bearer-key":[
                      
                   ]
                }
             ]
          }
       },
       "/persons/{personId}":{
          "get":{
             "tags":[
                "person-controller"
             ],
             "operationId":"getPersonById",
             "parameters":[
                {
                   "name":"personId",
                   "in":"path",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "responses":{
                "200":{
                   "description":"OK",
                   "content":{
                      "*/*":{
                         "schema":{
                            "$ref":"#/components/schemas/PersonResponse"
                         }
                      }
                   }
                }
             },
             "security":[
                {
                   "bearer-key":[
                      
                   ]
                }
             ]
          },
          "delete":{
             "tags":[
                "person-controller"
             ],
             "operationId":"deletePersonById",
             "parameters":[
                {
                   "name":"personId",
                   "in":"path",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "responses":{
                "200":{
                   "description":"OK"
                }
             },
             "security":[
                {
                   "bearer-key":[
                      
                   ]
                }
             ]
          },
          "patch":{
             "tags":[
                "person-controller"
             ],
             "operationId":"updatePerson",
             "parameters":[
                {
                   "name":"personId",
                   "in":"path",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "requestBody":{
                "content":{
                   "application/json":{
                      "schema":{
                         "$ref":"#/components/schemas/PersonUpdateRequest"
                      }
                   }
                },
                "required":true
             },
             "responses":{
                "200":{
                   "description":"OK",
                   "content":{
                      "*/*":{
                         "schema":{
                            "$ref":"#/components/schemas/PersonResponse"
                         }
                      }
                   }
                }
             },
             "security":[
                {
                   "bearer-key":[
                      
                   ]
                }
             ]
          }
       },
       "/photos/{photoId}":{
          "get":{
             "tags":[
                "photo-controller"
             ],
             "operationId":"getPhotoById",
             "parameters":[
                {
                   "name":"photoId",
                   "in":"path",
                   "required":true,
                   "schema":{
                      "type":"string"
                   }
                }
             ],
             "responses":{
                "200":{
                   "description":"OK",
                   "content":{
                      "*/*":{
                         "schema":{
                            "type":"array",
                            "items":{
                               "type":"string",
                               "format":"byte"
                            }
                         }
                      }
                   }
                }
             }
          }
       }
    },
    "components":{
       "schemas":{
          "PersonPhotosUpsertRequest":{
             "required":[
                "personPhotoIds"
             ],
             "type":"object",
             "properties":{
                "personPhotoIds":{
                   "uniqueItems":true,
                   "type":"array",
                   "items":{
                      "type":"string",
                      "format":"uuid"
                   }
                }
             }
          },
          "PersonPhotosGetResponse":{
             "type":"object",
             "properties":{
                "personPhotoIds":{
                   "uniqueItems":true,
                   "type":"array",
                   "items":{
                      "type":"string",
                      "format":"uuid"
                   }
                }
             }
          },
          "TokenRequest":{
             "type":"object",
             "properties":{
                "username":{
                   "type":"string"
                },
                "password":{
                   "type":"string"
                }
             }
          },
          "TokenResponse":{
             "type":"object",
             "properties":{
                "token":{
                   "type":"string"
                }
             }
          },
          "AddressDto":{
             "type":"object",
             "properties":{
                "street":{
                   "type":"string"
                },
                "number":{
                   "type":"integer",
                   "format":"int32"
                }
             }
          },
          "PersonResponse":{
             "type":"object",
             "properties":{
                "id":{
                   "type":"string",
                   "format":"uuid"
                },
                "name":{
                   "type":"string"
                },
                "age":{
                   "type":"integer",
                   "format":"int32"
                },
                "address":{
                   "$ref":"#/components/schemas/AddressDto"
                },
                "egnNumber":{
                   "type":"string"
                },
                "gender":{
                   "type":"string"
                }
             }
          },
          "GenericExeptionBody":{
             "type":"object",
             "properties":{
                "id":{
                   "type":"string",
                   "format":"uuid"
                },
                "message":{
                   "type":"string"
                },
                "errors":{
                   "type":"object",
                   "additionalProperties":{
                      "type":"string"
                   }
                },
                "clazz":{
                   "type":"string"
                }
             }
          },
          "PersonCreateRequest":{
             "type":"object",
             "properties":{
                "name":{
                   "type":"string"
                },
                "age":{
                   "type":"integer",
                   "format":"int32"
                },
                "address":{
                   "$ref":"#/components/schemas/AddressDto"
                },
                "egnNumber":{
                   "type":"string"
                }
             }
          },
          "PersonUpdateRequest":{
             "type":"object",
             "properties":{
                "name":{
                   "type":"string"
                },
                "age":{
                   "type":"integer",
                   "format":"int32"
                },
                "address":{
                   "$ref":"#/components/schemas/AddressDto"
                }
             }
          },
          "PaginationMetadata":{
             "type":"object",
             "properties":{
                "currentPage":{
                   "type":"integer",
                   "format":"int32"
                },
                "pageSize":{
                   "type":"integer",
                   "format":"int32"
                },
                "totalPages":{
                   "type":"integer",
                   "format":"int32"
                },
                "totalElements":{
                   "type":"integer",
                   "format":"int64"
                }
             }
          },
          "PersonApiPagePersonResponse":{
             "type":"object",
             "properties":{
                "content":{
                   "type":"array",
                   "items":{
                      "$ref":"#/components/schemas/PersonResponse"
                   }
                },
                "pagination":{
                   "$ref":"#/components/schemas/PaginationMetadata"
                }
             }
          }
       },
       "securitySchemes":{
          "bearer-key":{
             "type":"http",
             "scheme":"bearer",
             "bearerFormat":"JWT"
          }
       }
    }
 }